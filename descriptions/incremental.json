{
  "name": "robotWithState",
  "state": [
    {"type": "int", "type": "float", "name": "FOO"},
    {"value": 5, "name": "BAR", "type": "int"}
  ],

  "connections": {
    "spp": [
      { "name": "serialConnection",
        "speed": 38400,
        "onStart": "resetOdometry",
        "onTerminate": "resetOdometry",
        "onKeepalive": {
          "name": "getSpeed",
          "interval": 10
        }
      }
    ]
  },

  "primitives": [
    {
      "signature": {
        "name": "fireLasers",
        "parameters": [
          {"type": "int", "value": "laserPower"}
        ]
      },
      "writeFormat": {
        "format": "FIRE LASERS %d",
        "parameters": [
          "<laserPower>"
        ]
      },
      "readFormat": {
        "regex": "^ZAP! ([0-9]+)$",
        "expression": "<console.log('Zapped: ' + $1)>"
      }
    }
  ]
}
